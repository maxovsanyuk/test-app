(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(40)},18:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(8),s=a.n(o),c=(a(18),a(2)),r=a(3),l=a(5),u=a(4),m=a(6);a(19),a(20),a(21);var d=function(e){return i.a.createElement(n.Fragment,null,i.a.createElement("header",{className:"header",id:"header"},i.a.createElement("section",{className:"header-section"},i.a.createElement("a",{href:"../../../../public/index.html",className:"header-logo"}," "),i.a.createElement("div",{className:"header-btn-container"},i.a.createElement("button",{className:"top-rated-btn header-btn",onClick:e.data.getTopRated},"Top Rated"),i.a.createElement("button",{className:"top-liked-btn header-btn",onClick:e.data.getTopLiked},"Top Liked"),i.a.createElement("button",{className:"top-trending-btn header-btn",onClick:e.data.getTopTrending},"Top 20 trending movies"),i.a.createElement("button",{className:"refresh-btn",onClick:function(){document.location.reload(!0)}}," ")))))},g=(a(22),a(9)),p=(a(37),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getPage=function(e){var t=e.target,n=t.getAttribute("data-page-number");document.querySelectorAll(".pagination_counter_btn").forEach(function(e){e.classList.add("dis-active")}),t.classList.remove("dis-active"),t.classList.add("active");var i="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=".concat(n);fetch(i).then(function(e){return e.json()}).then(function(e){a.props.state.paginationItemsData(e)})},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.state.initPage.map(function(t,a){return 0===a?i.a.createElement(n.Fragment,{key:a},i.a.createElement("button",{className:"active pagination_counter_btn",id:a,onClick:e.getPage,"data-page-number":t},t)):i.a.createElement(n.Fragment,{key:a},i.a.createElement("button",{id:a,className:"dis-active pagination_counter_btn",onClick:e.getPage,"data-page-number":t},t))});return i.a.createElement(n.Fragment,null,i.a.createElement("section",{className:"pagination"},i.a.createElement("button",{className:"previous-btn",onClick:this.props.state.previousPage},"Previous"),i.a.createElement("div",null,t),i.a.createElement("button",{className:"next-btn",onClick:this.props.state.nextPage},"Next")))}}]),t}(n.Component));a(38),a(39);var f=function(){return i.a.createElement(n.Fragment,null,i.a.createElement("button",{onClick:function(){document.getElementById("main-section").scrollBy({top:-1e4,behavior:"smooth"})},className:"scrollBtn"}))};var v=function(){return i.a.createElement(n.Fragment,null,i.a.createElement("footer",{className:"footer"},i.a.createElement("a",{href:"https://www.linkedin.com/in/maksym-ovsianiuk-252372174/",className:"linkedin"}," "),i.a.createElement("a",{href:"https://github.com/maxovsanyuk",className:"github"}," "),i.a.createElement(f,null)))},h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).createVideoBlock=function(e){var t=e.target,n=t.getAttribute("data-key"),i=t.getAttribute("data-relise");fetch("https://api.themoviedb.org/3/movie/".concat(n,"/videos?api_key=5874acfd11651a28c55771624f7021f4&language=en-U")).then(function(e){return e.json()}).then(function(e){e.results.length&&a.setState({movieKey:e.results[0].key,dataRelise:i}),console.log(a.state.dataRelise),document.getElementById("youtube-iframe").classList.add("flex")})},a.getSimilarVideo=function(e){var t=e.target.getAttribute("data-key");fetch("https://api.themoviedb.org/3/movie/".concat(t,"/similar?api_key=5874acfd11651a28c55771624f7021f4&language=en-US")).then(function(e){return e.json()}).then(function(e){a.props.state.renderSimilarVideo(e)})},a.state={movieKey:"",dataRelise:"",opts:{playerVars:{autoplay:1}}},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"closeIfrane",value:function(){this.setState({movieKey:""}),document.getElementById("youtube-iframe").classList.remove("flex")}},{key:"render",value:function(){var e=this,t=this.props.data.map(function(t,a){return i.a.createElement("div",{id:"main-section",className:"item-section",key:t.id},i.a.createElement("div",{className:"player-placeholder"},i.a.createElement("button",{className:"get-similar-btn","data-key":t.id,onClick:e.getSimilarVideo},"Show 20 similar movies"),i.a.createElement("button",{className:"play-btn","data-key":t.id,"data-relise":t.release_date,onClick:e.createVideoBlock}),i.a.createElement("button",{onClick:function(e){document.getElementsByClassName("overview-content")[a].classList.toggle("overview-content-act"),e.currentTarget.classList.toggle("overview-btn-close")},className:"overview-btn"}),i.a.createElement("div",{className:"overview-content"},i.a.createElement("h1",{className:"film-title"},t.title),i.a.createElement("div",{className:"item-overview"},t.overview))),i.a.createElement("span",{className:"people-counter"},t.vote_count),i.a.createElement("span",{className:"imdb-rate"},t.vote_average),i.a.createElement("span",{className:"item-lang"},t.original_language),i.a.createElement("img",{className:"film-poster",alt:t.overview,src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path)}))});return i.a.createElement(n.Fragment,null,i.a.createElement("main",{className:"main-section",id:"main-section"},i.a.createElement("div",{className:"youtube-container",id:"youtube-iframe"},i.a.createElement("span",{className:"release-date"},"Release date: ",this.state.dataRelise),i.a.createElement("button",{className:"close-ifrem",onClick:this.closeIfrane.bind(this)}),i.a.createElement(g.a,{videoId:this.state.movieKey,opts:this.state.opts,className:"youtube-iframe"})),i.a.createElement("section",{className:"movies-container"},t,i.a.createElement(p,{state:this.props.state}),i.a.createElement(v,null))))}}]),t}(n.Component);function b(){document.querySelectorAll(".pagination_counter_btn").forEach(function(e,t){e.classList.remove("active"),0===t&&(e.classList.remove("dis-active"),e.classList.add("active"))})}var E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={data:[],initialPage:1,initPage:[1,2,3,4,5],isLoaded:!1,isFirstPage:!0,nextPage:function(){a.setState({initialPage:a.state.initialPage+=5}),b();var e="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=".concat(a.state.initialPage);fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({data:e.results,isFirstPage:!1,initPage:a.state.initPage.map(function(e){return e+5})})})},previousPage:function(){if(!a.state.isFirstPage){!1===a.state.isFirstPage&&a.state.initialPage>5?a.setState({initialPage:a.state.initialPage-=5,isFirstPage:!1}):a.setState({isFirstPage:!0}),b();var e="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=".concat(a.state.initialPage);fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({data:e.results,initPage:!0===a.state.isFirstPage?a.state.initPage:a.state.initPage.map(function(e){return e-5})})})}},paginationItemsData:function(e){a.setState({data:e.results})},renderSimilarVideo:function(e){a.setState({data:e.results}),document.getElementById("main-section").scrollBy({top:-1e4,behavior:"smooth"}),document.querySelectorAll(".pagination_counter_btn").forEach(function(e){e.classList.add("dis-active")})},getTopRated:function(){a.setState({data:a.state.data.sort(function(e,t){return t.vote_average-e.vote_average})})},getTopLiked:function(){a.setState({data:a.state.data.sort(function(e,t){return t.vote_count-e.vote_count})})},getTopTrending:function(){fetch("https://api.themoviedb.org/3/trending/all/day?api_key=5874acfd11651a28c55771624f7021f4").then(function(e){return e.json()}).then(function(e){a.setState({data:e.results})})}},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=".concat(this.state.initialPage);fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({data:t.results,isLoaded:!0})})}},{key:"render",value:function(){return i.a.createElement(n.Fragment,null,i.a.createElement(d,{data:this.state}),this.state.isLoaded?i.a.createElement(h,{data:this.state.data,state:this.state}):i.a.createElement("div",{className:"preloader"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.ecf19266.chunk.js.map